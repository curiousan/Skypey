(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1090:function(e,t,a){},1092:function(e,t,a){},1094:function(e,t,a){},1096:function(e,t,a){},1098:function(e,t,a){},1100:function(e,t,a){},1102:function(e,t,a){"use strict";a.r(t);var n,r=a(0),s=a.n(r),c=a(10),o=a.n(c),i=(a(22),a(25),a(27),a(29),"SET_ACTIVE_USER_ID"),l=a(5),u=a(2),m=a(31),d=a(40),v=a(41),f=a(1),p=(n=10,Array.from({length:n},function(){return E()})),g=f.mapKeys(p,"user_id"),h=function(e){var t={};return f.forEach(p,function(a){var n;t[a.user_id]=Object(u.a)({},f.mapKeys((n=e,Array.from({length:n},function(e,t){return{number:t,text:d.sentence(),is_user_msg:v.random.boolean()}})),"number"))}),t};E(),h(10);function E(){return{name:v.name.findName(),email:v.internet.email(),profile_pic:v.internet.avatar(),status:d.sentence(),user_id:m.generate()}}var _=a(3),y=a(1),b=a.n(y);var N=Object(l.a)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E();arguments.length>1&&arguments[1];return e},contacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{contacts:g};arguments.length>1&&arguments[1];return e},activeUserId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return t.payload;default:return e}return e},message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h(10),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_MESSAGE":var a=t.payload,n=a.message,r=a.userId,s=e[r],c=+b.a.keys(s).pop()+1;return Object(u.a)({},e,Object(_.a)({},r,Object(u.a)({},s,Object(_.a)({},c,{number:c,text:n,is_user_msg:!0}))));default:return e}return e},typing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TYPING_VALUE":return t.payload;case"SEND_MESSAGE":return"";default:return e}}}),w=Object(l.b)(N),S=function(e){var t=e.user,a=t.name,n=t.profile_pic,r=t.status;t.key;return s.a.createElement("div",{className:"user",onClick:function(e){var t=e.user_id;w.dispatch({type:i,payload:t})}.bind(null,t)},s.a.createElement("img",{src:n,alt:a,className:"user__pic"}),s.a.createElement("div",{className:"user__details"},s.a.createElement("p",{className:"user__details-name"},a),s.a.createElement("p",{className:"user__details-status"},r)))},I=function(e){var t=e.contacts;console.log(t);var a=b.a.values(t[0]).map(function(e,t){return s.a.createElement(S,{user:e,key:e.user_id+t})});return s.a.createElement("aside",{className:"side-bar"},a)},j=(a(1090),a(1092),function(e){var t=e.user,a=t.name,n=t.profile_pic,r=t.status,c=a.split(" ")[0];return s.a.createElement("div",{className:"empty"},s.a.createElement("h1",{className:"empty__name"},"Welcome, ",c," "),s.a.createElement("img",{src:n,alt:a,className:"empty__img"}),s.a.createElement("p",{className:"empty__status"},s.a.createElement("b",null,"Status:")," ",r),s.a.createElement("button",{className:"empty__btn"},"Start a conversation"),s.a.createElement("p",{className:"empty__info"},"Search for someone to start chatting with or go to Contacts to see who is available"))});a(1094);var k=function(e){var t=e.user,a=t.name,n=t.status;return s.a.createElement("header",{className:"Header"},s.a.createElement("h1",{className:"Header__name"},a),s.a.createElement("p",{className:"Header__status"},n))},O=a(12),U=a(13),T=a(15),A=a(14),C=a(16),D=(a(1096),function(e){var t=e.message,a=t.text,n=t.is_user_msg;return s.a.createElement("span",{className:"Chat ".concat(n?"is-user-msg":"")},a)}),R=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(T.a)(this,Object(A.a)(t).call(this,e))).scrollToBottom=function(){a.chatsRef.current.scrollTop=a.chatsRef.current.scrollHeight},a.chatsRef=s.a.createRef(),a}return Object(C.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"render",value:function(){return s.a.createElement("div",{className:"Chats",ref:this.chatsRef},this.props.messages.map(function(e){return s.a.createElement(D,{message:e,key:e.number})})," ")}}]),t}(r.Component),M=(a(1098),a(1100),function(e){var t=e.value,a=w.getState();return s.a.createElement("form",{className:"Message",onSubmit:function(e){e.preventDefault();var t=a.typing,n=a.activeUserId;w.dispatch({type:"SEND_MESSAGE",payload:{message:t,userId:n}})}},s.a.createElement("input",{className:"Message__input",onChange:function(e){w.dispatch({type:"SET_TYPING_VALUE",payload:e.target.value})},value:t,placeholder:"write a message"})," ")}),B=function(e){var t=e.activeUserId,a=w.getState(),n=a.typing,r=a.message[t];console.log(a);var c=a.contacts.contacts[t];return console.log(c),s.a.createElement("div",{className:"chat-window"},s.a.createElement(k,{user:c}),s.a.createElement(R,{messages:b.a.values(r)}),s.a.createElement(M,{value:n}))},G=function(e){var t=e.user,a=e.activeUserId;return s.a.createElement("main",{className:"main"},a?s.a.createElement(B,{activeUserId:a}):s.a.createElement(j,{user:t,activeUserId:a}))},x=function(){var e=w.getState(),t=e.contacts,a=e.user,n=e.activeUserId;return s.a.createElement("div",{className:"App"},s.a.createElement(I,{contacts:b.a.values(t)}),s.a.createElement(G,{user:a,activeUserId:n}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=function(){o.a.render(s.a.createElement(x,null),document.getElementById("root")),console.log("%c Rendered with \ud83d\udc49 color: #FFF"),console.log(w.getState())};H(),w.subscribe(H),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},17:function(e,t,a){e.exports=a(1102)},22:function(e,t,a){},25:function(e,t,a){},27:function(e,t,a){},29:function(e,t,a){}},[[17,2,1]]]);
//# sourceMappingURL=main.d87156e5.chunk.js.map